# IMEI Checker Bot and API

## Описание

Данный проект представляет собой Telegram-бот и веб-сервис для проверки IMEI-номеров устройств. Бот использует API сервиса imeicheck.net для проверки предоставленных номеров.

## Функционал

1. Telegram-бот:

* Проверка валидности IMEI-номера (14 или 15 цифр).

* Получение информации о IMEI с использованием внешнего API.

* Переключение между режимами Sandbox и Live.

* Доступ к боту ограничен белым списком пользователей.

2. REST API:

* Эндпоинт для проверки IMEI через HTTP-запрос.

* Авторизация по токену.

## Установка и запуск:

### Требования

* Python 3.9+

### Установленные зависимости из requirements.txt:
```
pip install -r requirements.txt
```

### Запуск бота:
```
python main.py
```

### Запуск FastAPI сервиса
```
uvicorn main:app --host 0.0.0.0 --port 8000
```

## Использование

### Telegram-бот

* Отправьте IMEI-номер боту.

* Используйте команду /switch_mode для смены режима работы (Sandbox / Live).

* Если ваш ID не входит в белый список, доступ к боту будет запрещён.

## API

### POST /api/check-imei

#### Параметры запроса:
```
{
  "imei": "123456789012345",
  "token": "PythonForever!"
}
```

### Пример ответа:
```
{
  "imei": "123456789012345",
  "result": {
    "brand": "Apple",
    "model": "iPhone 13",
    "status": "Valid"
  }
}
```

## Конфигурация

* Переключение между тестовым (Sandbox) и лайф (Live) режимом осуществляется командой /switch_mode в боте.

* Белый список пользователей настраивается в файле main.py (константа WHITE_LIST).

* Токены для API указаны в коде в классе IMEIChecker в переменной api_token_imei.

* Токен Вашего телеграмм бота добавьте в переменную TOKEN.